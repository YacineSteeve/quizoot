{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "Quizoot.Difficulty": {
            "description": "Question difficulty: easy, medium or hard.",
            "enum": [
                "EASY",
                "HARD",
                "MEDIUM"
            ],
            "type": "string"
        },
        "Quizoot.Feedback": {
            "properties": {
                "explanation": {
                    "description": "General feedback/explanation displayed whether the answer is wrong or correct.",
                    "type": "string"
                },
                "when_right": {
                    "description": "Feedback when answer is right.",
                    "type": "string"
                },
                "when_wrong": {
                    "description": "Feedback when answer is wrong.",
                    "type": "string"
                }
            },
            "type": "object"
        },
        "Quizoot.File": {
            "properties": {
                "content": {
                    "description": "Encoded `base64` string of the file's content.",
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/Quizoot.FileType",
                    "description": "File type enum. Can be `.txt`, `.csv`, `.pdf`, etc. See {@link FileType}."
                }
            },
            "type": "object"
        },
        "Quizoot.FileType": {
            "description": "Enum of supported file extensions.",
            "enum": [
                ".csv",
                ".img",
                ".jpeg",
                ".jpg",
                ".pdf",
                ".png",
                ".txt"
            ],
            "type": "string"
        },
        "Quizoot.Grading": {
            "properties": {
                "feedback": {
                    "$ref": "#/definitions/Quizoot.Feedback",
                    "description": "Feedback given after answering the question."
                },
                "point_value": {
                    "description": "Specifies how much a correct answer count for in the total score.",
                    "type": "number"
                }
            },
            "type": "object"
        },
        "Quizoot.MultipleChoicesQuestion": {
            "properties": {
                "answers_id": {
                    "description": "Id of the correct answers to the question.",
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "options": {
                    "description": "Question options. See {@link QuestionOption}.",
                    "items": {
                        "$ref": "#/definitions/Quizoot.QuestionOption"
                    },
                    "type": "array"
                }
            },
            "type": "object"
        },
        "Quizoot.QuestionKind": {
            "description": "Different kind of question we might have.",
            "enum": [
                "CHOICE_QUESTION",
                "CODE_QUESTION",
                "TEXT_QUESTION",
                "UPLOAD_QUESTION"
            ],
            "type": "string"
        },
        "Quizoot.QuestionOption": {
            "properties": {
                "display": {
                    "description": "The actual display of the option as a human readable string.",
                    "type": "string"
                },
                "id": {
                    "description": "Id of the option.",
                    "type": "string"
                }
            },
            "type": "object"
        },
        "Quizoot.SingleChoiceQuestion": {
            "properties": {
                "answer_id": {
                    "description": "Id of the correct answer to the question.",
                    "type": "string"
                },
                "options": {
                    "description": "Question options. See {@link QuestionOption}.",
                    "items": {
                        "$ref": "#/definitions/Quizoot.QuestionOption"
                    },
                    "type": "array"
                }
            },
            "type": "object"
        },
        "Quizoot.TextQuestion": {
            "properties": {
                "keywords": {
                    "description": "List of keywords that the answers should contain. It is up to the developer to implement if the answer should contain ALL or ANY of the keywords.",
                    "examples": [
                        "bytes",
                        "octets"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                }
            },
            "type": "object"
        },
        "Quizoot.UploadQuestion": {
            "properties": {
                "files": {
                    "description": "List of files to upload.",
                    "items": {
                        "$ref": "#/definitions/Quizoot.File"
                    },
                    "type": "array"
                },
                "max_files": {
                    "default": 1,
                    "description": "Maximum number of files to upload.",
                    "minimum": 1,
                    "type": "number"
                },
                "max_size": {
                    "description": "Maximum size of each files. Can be expressed in bytes, megabytes (MB), etc. See TODO for valid units.",
                    "examples": [
                        "10MB"
                    ],
                    "type": "string"
                }
            },
            "type": "object"
        }
    },
    "description": "Question object used to create a quiz. A Quiz is a set of questions.",
    "properties": {
        "difficulty": {
            "$ref": "#/definitions/Quizoot.Difficulty",
            "description": "Rate how diffuclt the question is. See {@link Difficulty}."
        },
        "grading": {
            "$ref": "#/definitions/Quizoot.Grading",
            "description": "The grading object specifies how to grade for the current question. See {@link Grading}."
        },
        "hint": {
            "description": "Hint given to help answering the question",
            "type": "string"
        },
        "id": {
            "description": "Id of the question",
            "pattern": "[a-z0-9]{12}",
            "type": "string"
        },
        "kind": {
            "$ref": "#/definitions/Quizoot.QuestionKind",
            "description": "The question kind. Please refer to {@link QuestionKind}."
        },
        "question": {
            "description": "The actual question as a human readable string.",
            "type": "string"
        },
        "spec": {
            "anyOf": [
                {
                    "$ref": "#/definitions/Quizoot.SingleChoiceQuestion"
                },
                {
                    "$ref": "#/definitions/Quizoot.MultipleChoicesQuestion"
                },
                {
                    "$ref": "#/definitions/Quizoot.TextQuestion"
                },
                {
                    "$ref": "#/definitions/Quizoot.UploadQuestion"
                },
                {
                    "properties": {
                        "content": {
                            "description": "Code content. This will be ran using a `python3` runner and evaluated.",
                            "type": "string"
                        },
                        "expected_output": {
                            "description": "Expected output after running the code.",
                            "type": "string"
                        },
                        "language": {
                            "description": "Coding language. Only `python3` is supported.",
                            "enum": [
                                "python3"
                            ],
                            "type": "string"
                        }
                    },
                    "type": "object"
                }
            ],
            "description": "Spec of the question. It specifies what the attributes of the question are. Attributes depends on {@link QuestionKind}.\n\nSee {@link QuestionSpec} for more information about the spec attributes for each question kind."
        },
        "tags": {
            "description": "List of optional tags associated with the question.",
            "items": {
                "type": "string"
            },
            "type": "array"
        }
    },
    "type": "object"
}

